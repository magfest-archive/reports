{% extends "base.html" %}{% set admin_area=True %}
{% block title %}CSV Import{% endblock %}
{% block content %}

<h2> CSV Table Imports </h2>
This attempts to import a csv file for the table you select. <strong>Please do not refresh this page.  THIS PAGE IS FOR EXPERTS ONLY.</strong>

<form action="import_model" method="post" enctype="multipart/form-data">
    <select name="selected_model">
        {{ options(tables) }}
    </select><br />
    <input type="file" name="model_import" /><br />
    <select name="date_format">
        <option selected="selected" value="%Y-%m-%d">YYYY-MM-DD</option>
        <option value="%Y/%m/%d">YYYY/MM/DD</option>
        <option value="%m/%d/%Y">MM/DD/YYYY</option>
        <option value="%d/%m/%Y">DD/MM/YYYY</option>
    </select>
    <input type="submit" value="Upload" />
</form>
<br/>
{% if attendees %}
        <div class="control-group"><h4>Imported Data</h4></div>
    <table class="table table-striped datatable">
    <thead><tr>
        <th>ID</th>
        <th>Name</th>
        <th>Type</th>
        <th>When</th>
    </tr></thead>
{% for attendee in attendees %}
    <tr bgcolor="{{ loop.cycle('#FFFFFF', '#DDDDDD') }}">
        <td id="uuid">
            {{ attendee.id }}
        </td>
        <td id="name">{{ attendee|form_link }}</td>
        <td id="type">{{ attendee.type }} {{ attendee.badge_type_label }}</td>
        <td id="when">{{ attendee.when }} {{ attendee.registered }}</td>
    </tr>
{% endfor %}
</table>
{% endif %}

{% endblock %}
